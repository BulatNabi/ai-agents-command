{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://agentic-web-factory.local/schemas/project-spec.json",
  "title": "Project Specification",
  "description": "Schema for project specifications generated by the orchestrator",
  "type": "object",
  "required": ["project_id", "name", "prompt", "type", "features"],
  "properties": {
    "project_id": {
      "type": "string",
      "description": "Unique project identifier"
    },
    "name": {
      "type": "string",
      "description": "Project name (kebab-case)"
    },
    "prompt": {
      "type": "string",
      "description": "Original user prompt"
    },
    "type": {
      "type": "string",
      "enum": ["landing-page", "dashboard", "e-commerce", "portfolio", "blog", "saas", "custom"],
      "description": "Type of web application"
    },
    "features": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["name", "priority"],
        "properties": {
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "priority": {
            "type": "string",
            "enum": ["must-have", "should-have", "nice-to-have"]
          }
        }
      }
    },
    "tech_stack": {
      "type": "object",
      "properties": {
        "frontend": {
          "type": "object",
          "properties": {
            "framework": { "type": "string", "default": "react" },
            "styling": { "type": "string", "default": "tailwind" },
            "components": { "type": "string", "default": "shadcn" }
          }
        },
        "backend": {
          "type": "object",
          "properties": {
            "framework": { "type": "string", "default": "fastapi" },
            "database": { "type": "string" },
            "auth": { "type": "string" }
          }
        },
        "deployment": {
          "type": "object",
          "properties": {
            "platform": { "type": "string", "default": "vercel" },
            "ci_cd": { "type": "string", "default": "github-actions" }
          }
        }
      }
    },
    "design": {
      "type": "object",
      "properties": {
        "style": {
          "type": "string",
          "description": "Design style (e.g., 'neo-luminance', 'minimal', 'corporate')"
        },
        "color_palette": {
          "type": "object",
          "properties": {
            "primary": { "type": "string" },
            "secondary": { "type": "string" },
            "accent": { "type": "string" },
            "background": { "type": "string" },
            "foreground": { "type": "string" }
          }
        },
        "typography": {
          "type": "object",
          "properties": {
            "heading_font": { "type": "string" },
            "body_font": { "type": "string" }
          }
        }
      }
    },
    "pages": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["route", "name"],
        "properties": {
          "route": { "type": "string" },
          "name": { "type": "string" },
          "components": {
            "type": "array",
            "items": { "type": "string" }
          }
        }
      }
    },
    "api_requirements": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "endpoint": { "type": "string" },
          "method": { "type": "string" },
          "purpose": { "type": "string" }
        }
      }
    }
  }
}
